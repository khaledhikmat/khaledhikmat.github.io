
<!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Khaled Hikmat - TypeScript Anamolies</title>
        <meta name="description" content="Coding Thoughts" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        

        <link type="application/rss+xml" rel="alternate" title="Khaled Hikmat" href="/feed.rss" />
        <link type="application/atom+xml" rel="alternate" title="Khaled Hikmat" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/clean-blog.css" rel="stylesheet" />
        <link href="/assets/css/master.css" rel="stylesheet" />
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="/assets/css/override.css" rel="stylesheet" />


        <meta name="application-name" content="Khaled Hikmat" />
        <meta name="msapplication-tooltip" content="Khaled Hikmat" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Khaled Hikmat - TypeScript Anamolies" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://khaledhikmat.github.io/posts/2013-09-09-typescript" />
        <!-- TODO: More social graph meta tags -->

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>     
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/clean-blog.js"></script>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="/assets/js/trianglify.min.js"></script>
        <script src="/assets/js/Please-compressed.js"></script>
                
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->


        </head>
        <body>
                
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
                        <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header page-scroll">
                                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="/">Khaled Hikmat</a>
                                </div>
                        
                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="navbar-collapse">
                                        <ul class="nav navbar-nav navbar-right">
                                                <li><a href="/about">About</a></li>
<li><a href="/posts">Archive</a></li>
<li><a href="/tags">Tags</a></li> 
                                        </ul>
                                </div>
                                <!-- /.navbar-collapse -->
                        </div>
                        <!-- /.container -->
                </nav>
                
                <!-- Page Header -->
                <header class="intro-header" id="intro-header">
                        <div class="container">
                                <div class="row">
                                        <div class="col-md-12">

    
<div class="post-heading">
    <h1>TypeScript Anamolies</h1>
        <h2 class="subheading">TypeScript and Web Essentials in VS2012</h2>
    <div class="meta">        
Published on Monday, September 9, 2013<br>    </div>
        <div class="tags">
                    <a role="button" href="/tags/typescript" class="btn btn-default btn-xs">TypeScript</a>
                    <a role="button" href="/tags/webessnetials" class="btn btn-default btn-xs">WebEssnetials</a>
        </div>     
</div>
                                        </div>
                                </div>
                        </div>
                </header>
                
                <!-- Main Content -->
                <div class="container">
                        <div class="row">
                                <div id="content" class="col-md-12">
                                        

<p>I have been using TypeScript with WebEssentials in Visual Studio 2012 for about 6-7 months and things are just great. For a non-JavaScript programmer, I love TypeScript! WebEssentials made it that much funner by integrating very well with the VS2012 and TypeScript environments.</p>
<p>This did not last that long! I upgraded to the latest TypeScript 0.9.1.1 and WebEssentials 3 . WE3 removed all TypeScript support!!!! Almost everything broke.</p>
<p>I had code that looked like this which no longer compiles:</p>
<pre><code>    // Repositories Factory - produces singleton objects
    export class RepositoriesFactory {
        /*** Content Repositories ***/
        private static _hotelsRepository: IHotelsRepository = null;

        constructor() {
            throw new Error('RepositoriesFactory - You should not new this class!');
        }

        public static getHotelsRepository(logger: App.Utils.ILogger): IHotelsRepository {
            if (_hotelsRepository == null)
                _hotelsRepository = new HotelsRepository(logger);

            return _hotelsRepository;
        }
    }
</code></pre>
<p>until I changed it to this:</p>
<pre><code>    // Repositories Factory - produces singleton objects
    export class RepositoriesFactory {
        /*** Content Repositories ***/
        private static _hotelsRepository: IHotelsRepository = null;

        constructor() {
            throw new Error('RepositoriesFactory - You should not new this class!');
        }

        public static getHotelsRepository(logger: App.Utils.ILogger): IHotelsRepository {
            if (RepositoriesFactory._hotelsRepository == null)
                RepositoriesFactory._hotelsRepository = new HotelsRepository(logger);

            return RepositoriesFactory._hotelsRepository;
        }
    }
</code></pre>
<p>In addition the type bool has been renamed to boolean in TypeScript 0.9 and the Definitely Typed declaration has been updated as well. So I had to re-get all the .d.ts files from the definitely typed repository.</p>
<p>Then I ran into a problem where my .ts files no longer auto-compile despite the settings in Tools -&gt; Options -&gt; Text Editor -&gt; TypeScript -&gt; Project that instructs TypeScript to Compile on Save ( I checked the two options: Automatically compile TypeScript files which are part of a project and the other). All the instructions that I found of changing the project file to do post or pre build commands did not work. The only thing that finally made it work for me is the NuGet package Ltc.MSBuild.TS0911WE3.targets mentioned in this Stackoverflow post.</p>
<p>Now things are better but I lost two very nice feature that Web Essentials used to provide:</p>
<ul>
<li>Nesting the generated files behind the .ts files in the solution explorer</li>
<li>The generation of the min JS file!</li>
</ul>
<p>Very unfortunate!!! I hope these things will be recovered in the next TypeScript plugin release.</p>



                                </div>
                        </div>
                </div>
                
                <hr>
                
                <!-- Footer -->
                <footer>
                        <div class="container">
        <div class="row">
                <div class="col-md-12">
                <ul class="list-inline text-center">
                        <li>
                        <a href="https://twitter.com/khaledhmat">
                                <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                        </li>
                        <li>
                        <a href="https://github.com/khaledhikmat">
                                <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                        </li>
                </ul>
                <p class="copyright text-muted">
                        Copyright Â© 2017 by Khaled Hikmat. 
                        <br />
                        <strong><a href="http://wyam.io">Generated by Wyam</a></strong>
                </p>
                </div>
        </div>
</div>
                </footer> 

                <script type="text/javascript">
</script>
                <script>hljs.initHighlightingOnLoad();</script>

                        <script type="text/javascript">                
                                // Header background                        
                                var colors = Please.make_color({
                                        colors_returned: 3,
                                        saturation: .6
                                });
                                var t = new Trianglify({
                                        x_gradient: colors,
                                        y_gradient: ["#FFFFFF"]
                                });
                                var header = document.getElementById("intro-header");
                                var pattern = t.generate(header.clientWidth, header.clientHeight);
                                header.setAttribute('style', 'background-image: ' + pattern.dataUrl);                        
                        </script>
        </body>
</html>

